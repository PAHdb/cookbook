

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Working with geometry data &mdash; PAHdb cookbook  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/touch-icon-310x310.png"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.js"></script>
        <script type="text/javascript" src="_static/sphinx_tabs/tabs.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinx_tabs/tabs.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Working with laboratory data" href="sec_01-working_with_lab.html" />
    <link rel="prev" title="Accessing data" href="sec_01-accessing_data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PAHdb cookbook
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="sec_01.html">API Overview</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sec_01-first_steps.html">First steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_01-accessing_data.html">Accessing data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Working with geometry data</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_01-working_with_lab.html">Working with laboratory data</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_01-working_with_transitions.html">Working with transition data</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_01-using_emission_models.html">Using emission models</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_01-creating_spectra.html">Creating spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_01-working_with_spectra.html">Working with spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_01-working_with_obs.html">Working with observational data</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_01-spectroscopic_fitting.html">Spectroscopic fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_01-working_with_fitted_data.html">Working with fitted data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sec_02.html">Recipes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sec_02-complete_example.html">A complete example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="sec_02-complete_example.html#description-of-figures">Description of figures</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sec_02-save_to_disk.html">Save to disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_02-plot_spectrum.html">Plot spectrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_02-compare_two_spectra.html">Comparing two spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_02-add_spectra.html">Add two or more spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec_02-compare_lab_to_theory.html">Compare laboratory and theoretical spectra</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PAHdb cookbook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="sec_01.html">API Overview</a> &raquo;</li>
        
      <li>Working with geometry data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="sec_01-working_with_lab.html" class="btn btn-neutral float-right" title="Working with laboratory data" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sec_01-accessing_data.html" class="btn btn-neutral float-left" title="Accessing data" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="working-with-geometry-data">
<h1>Working with geometry data<a class="headerlink" href="#working-with-geometry-data" title="Permalink to this headline">¶</a></h1>
<p>The ‘AmesPAHdbIDLSuite_Geometry’-object exposes the molecular
geometric data.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-SURM docutils container">
<div class="docutils container">
<p>IDL</p>
</div>
</div>
<div class="item sphinx-data-tab-UHl0aG9u docutils container">
<div class="docutils container">
<p>Python</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SURM active docutils container">
<div class="highlight-idl notranslate"><div class="highlight"><pre><span></span>uids <span class="o">=</span> pahdb<span class="o">-&gt;</span>Search(<span class="s2">&quot;c&lt;=20 neutral n=2 neutral&quot;</span>)

geometry <span class="o">=</span> pahdb<span class="o">-&gt;</span>getGeometryByUID(uids)
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-UHl0aG9u docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">uids</span> <span class="o">=</span> <span class="n">pahdb</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;c&lt;=20 neutral n=2 neutral&quot;</span><span class="p">)</span>

<span class="n">geometry</span> <span class="o">=</span> <span class="n">pahdb</span><span class="o">.</span><span class="n">getgeometrybyuid</span><span class="p">(</span><span class="n">uids</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The ‘AmesPAHdbIDLSuite_Geometry’-object provides both the ‘Plot’ and
‘Structure’-methods to output the chemical structure of the PAH with
provided UID. The first method uses IDL’s PLOT-procedures to create
the output, while the latter IDL object graphics.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-SURM docutils container">
<div class="docutils container">
<p>IDL</p>
</div>
</div>
<div class="item sphinx-data-tab-UHl0aG9u docutils container">
<div class="docutils container">
<p>Python</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SURM active docutils container">
<div class="highlight-idl notranslate"><div class="highlight"><pre><span></span><span class="c1">; UID 18 = coronene (C24H12)</span>

void <span class="o">=</span> geometry<span class="o">-&gt;</span><span class="nb">Plot</span>(<span class="mi">18</span>)

img <span class="o">=</span> geometry<span class="o">-&gt;</span>Structure(<span class="mi">18</span>)
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-UHl0aG9u docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">geometry</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">structure</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The ‘Plot’-method will accept the ‘Scale’, ‘Thick’, and ‘RGB’- keywords
to control the scale at which the atoms are to be drawn, the thickness
of the bonds, and if colors should be outputted as decomposed RGB,
respectively. In addition, the ‘NoErase’ and ‘Position’-keywords
control display erasing prior plotting and the plot position in
normalized coordinates, respectively. When the ‘Resolution’-keyword
is set, the plot will be rendered to IDL’s Z-buffer device at given
resolution and outputted as an image and returned to the caller.
When the ‘Save’-keyword is also set, a PNG-image will be generated
as well, which will have the UID of the PAH molecule under
consideration embedded in the filename. Lastly, the ‘Angle’-keyword
controls rotation of the structure around the z-axis.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-SURM docutils container">
<div class="docutils container">
<p>IDL</p>
</div>
</div>
<div class="item sphinx-data-tab-UHl0aG9u docutils container">
<div class="docutils container">
<p>Python</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SURM active docutils container">
<div class="highlight-idl notranslate"><div class="highlight"><pre><span></span><span class="c1">; UID 18 = coronene (C24H12)</span>

img <span class="o">=</span> geometry<span class="o">-&gt;</span><span class="nb">Plot</span>(<span class="mi">18</span>, Scale<span class="o">=</span><span class="mf">2.0</span>, Thick<span class="o">=</span><span class="mf">5.0</span>, $
                 Resolution<span class="o">=</span>[<span class="mi">1200</span>, <span class="mi">1200</span>], <span class="o">/</span><span class="nb">Save</span>)
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-UHl0aG9u docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">img</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The ‘Structure’-method will accept the ‘Background’ and ‘Frame’-keywords
to control background color and display of a wireframe. The
‘Resolution’-keyword controls the dimension of the 3D-rendered output
image. The ‘Save’-keyword can be specified to save the generated
image as a PNG-image as well, which will have the UID of the PAH
molecule under consideration embedded in the filename. If in addition
the ‘Transparent’-keyword is specified as a color-triplet array, that
color will be set to transparent in the generated PNG-file. The ‘Axis’
and ‘Angle’-keywords can control axis and angle of rotation,
respectively. With the ‘View’-keyword set the generated structure
will be displayed using IDL’s XOBJVIEW routine. Lastly, when the
‘Obj’-keyword is set, the generated IDLgrModel-object is returned to
the caller.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-SURM docutils container">
<div class="docutils container">
<p>IDL</p>
</div>
</div>
<div class="item sphinx-data-tab-UHl0aG9u docutils container">
<div class="docutils container">
<p>Python</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SURM active docutils container">
<div class="highlight-idl notranslate"><div class="highlight"><pre><span></span><span class="c1">; UID 18 = coronene (C24H12)</span>

img <span class="o">=</span> geometry<span class="o">-&gt;</span>Structure(<span class="mi">18</span>, Background<span class="o">=</span>[<span class="mi">0</span>, <span class="mi">255</span>, <span class="mi">0</span>], $
                              Resolution<span class="o">=</span>[<span class="mi">600</span>, <span class="mi">600</span>], $
                              <span class="o">/</span><span class="nb">Save</span>, Transparent<span class="o">=</span>[<span class="mi">0</span>, <span class="mi">255</span>, <span class="mi">0</span>], $
                              <span class="o">/</span>View)
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-UHl0aG9u docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">img</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">structure</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>In addition, the ‘AmesPAHdbIDLSuite_Geometry’-object provides the
‘Mass’, ‘Rings’, and ‘Area’-methods that return the calculated mass
based on atomic masses, the number of 3-8 membered rings, and total
surface area of the PAH molecules under consideration.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-SURM docutils container">
<div class="docutils container">
<p>IDL</p>
</div>
</div>
<div class="item sphinx-data-tab-UHl0aG9u docutils container">
<div class="docutils container">
<p>Python</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SURM active docutils container">
<div class="highlight-idl notranslate"><div class="highlight"><pre><span></span>masses <span class="o">=</span> geometry<span class="o">-&gt;</span>Mass()

rings <span class="o">=</span> geometry<span class="o">-&gt;</span>Rings()

areas <span class="o">=</span> geometry<span class="o">-&gt;</span>Area()
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-UHl0aG9u docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">masses</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">mass</span><span class="p">()</span>

<span class="n">rings</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">rings</span><span class="p">()</span>

<span class="n">areas</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">area</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Lastly, the ‘Inertia’-method provides the moment of inertia matrices,
which are diagonalized with the ‘Diagonalize’-method, for the PAH
molecules under consideration. The latter method can be particular
useful to ensure proper alignment of the structure with the view
before calling the ‘Plot’ or ‘Structure’-methods.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-SURM docutils container">
<div class="docutils container">
<p>IDL</p>
</div>
</div>
<div class="item sphinx-data-tab-UHl0aG9u docutils container">
<div class="docutils container">
<p>Python</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SURM active docutils container">
<div class="highlight-idl notranslate"><div class="highlight"><pre><span></span>matrix <span class="o">=</span> geometry<span class="o">-&gt;</span>Inertia()

geometry<span class="o">-&gt;</span>Diagonalize
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-UHl0aG9u docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">matrix</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">inertia</span><span class="p">()</span>

<span class="n">geometry</span><span class="o">.</span><span class="n">diagonalize</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sec_01-working_with_lab.html" class="btn btn-neutral float-right" title="Working with laboratory data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sec_01-accessing_data.html" class="btn btn-neutral float-left" title="Accessing data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Dr. Christiaan Boersma and Dr. Matthew J. Shannon

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>